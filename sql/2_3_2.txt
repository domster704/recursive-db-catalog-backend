Варианты оптимизации:

1. Индексы по часто используемым полям (самое очевидное решение)
Например, на order (order_date, status), order_items (order_id, product_id) и products(category_id)

2. Сейчас при большом количестве регулярных запросов проблема может быть в рекурсивном CTE.
Ну тут 2 варианта:
- хранить некий root_category_id прямо в таблице categories, чтобы была двунаправленная связь parent <-> children
- хранить root_category_id прямо в таблице products, чтобы избегать лишних подзапросов

3. Данный вариант является "внешним" решением - использовать кэширование.
Ну, например, через Redis